Данная роль позволяет установить vault на debian или centos, инициировать его и распечатать.

так же можно вкючать или выкючать устанвку keepalived в файле  /etc/ansible/roles/vault/defaults/main.yaml  там есть переменная  keepalived: true.  Отмечу что для дебиана и так ставится версия keepalived 2 а вот у centos версия 1 поэтому 2ую версию нужно будет собирать из исходников, после сборки она будет скопирована на хост ансибла сюда /etc/ansible/roles/vault/files/   но я заранее скомпили и положил бинарник. виртуальный айпишник будет всегда на волте который является мастером.

в файле: /etc/ansible/roles/vault/defaults/main.yaml  можно задать для каких доменных имён будет сгенерирован сапоподписанный сертификат, который будет использовать vault, так же этот сертификат будет добавлен в доверенные сертификаты на нодах.

если у вас уже есть сертификат (купленный или самподпианный) то положите его в директорию /etc/ansible/roles/vault/ssl/  назовите его my_crt_file.crt так же нужно положить в эту директорию pem файл  my_crt_file.pem   имя файлов как и директорию можно задать в переменных  localhost_ssl_dir   vault_certificate_file_name в файле /etc/ansible/roles/vault/defaults/main.yaml   если этого не сделать то будет сгенерен самоподписанный сертификат

после установки и распечатки волта  в директории /etc/ansible/roles/vault/unseal_tmp  появится рут токен и ключи для распечатки.

в файле /etc/ansible/hosts  
[vault]
vault1 ansible_host=192.168.1.103
vault2 ansible_host=192.168.1.104
vault3 ansible_host=192.168.1.105

[vault:vars]
virtual_hostname=vault
virtual_address=192.168.1.110

мы задаём имя хостнейма и айпишник, так же мы указываем виртуальный айпишник для keepalived 

